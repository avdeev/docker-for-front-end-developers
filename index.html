<!DOCTYPE html>
<html lang="en">
<head>
    <title>Docker –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ—Ä–∞</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="node_modules/@shower/ribbon/styles/styles.css">
    <link rel="stylesheet" type="text/css" href="/asciinema-player.css" />
    <style>
        .shower {
            --slide-ratio: calc(16 / 9);
            --ribbon-size: 40px;
        }
        .progress::before {
            background-color: #fa1100;
        }
        .slide {
            padding-top: 51px;
            background: #fff url(pictures/fcconf_bg.png) no-repeat;
            background-size: cover;
        }
        .slide.clear {
            background-image: none;
        }
        .slide::after {
            top: auto;
            bottom: 0;
            left: 40px;
            right: auto;
            color: initial;
            background: none;
        }

        .asciinema-terminal .line span {
            height: auto;
        }
    </style>
</head>
<body class="shower list">

    <header class="caption">
        <h1>Docker –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ—Ä–∞</h1>
        <p><a href="https://alexey-avdeev.com/">–ê–ª–µ–∫—Å–µ–π –ê–≤–¥–µ–µ–≤</a>, <a href="https://neuron.digital/">Neuron.Digital</a></p>
    </header>

    <section class="slide clear" id="cover">
        <h2>Docker –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ—Ä–∞</h2>
        <p><a href="https://alexey-avdeev.com/">–ê–ª–µ–∫—Å–µ–π –ê–≤–¥–µ–µ–≤</a>, <a href="https://neuron.digital/">Neuron.Digital</a></p>
        <figure>
            <img class="cover h" src="pictures/fcconf_title.png" alt="FrontendConf Background">
        </figure>
        <style>
            #cover h2 {
                margin: 0;
                color: #000;
                font-size:60px;
            }
            #cover p {
                margin: 10px 0 0;
                color: #000;
                font-size: 30px;
            }
            #cover p a {
                color: #000;
            }
        </style>
    </section>

    <section class="slide">
        <img class="cover w" src="pictures/trends.png" alt="" style="box-shadow: 5px 5px 20px 8px #b9b9b9;; width: 80%;">
    </section>

    <section class="slide clear">
        <img class="cover w" src="pictures/docker-boat.jpg" alt="">
    </section>

    <section class="slide">
        <img class="cover w" src="pictures/intro.png" alt="" style="width: 90%;">
    </section>

    <section class="slide">
        <h2 class="shout">–≠—Ä–∞ Docker</h2>
    </section>

    <section class="slide">
        <h2>üë®‚Äçüíª –û —Å–µ–±–µ</h2>

        <ol>
            <li>üë® –ê–ª–µ–∫—Å–µ–π –ê–≤–¥–µ–µ–≤ (<a href="https://github.com/avdeev">https://github.com/avdeev</a>)</li>
            <li class="next">üëî –†—É–∫–æ–≤–æ–∂—É –∫–æ–º–∞–Ω–¥–æ–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</li>
            <li class="next">üèôÔ∏è –ò–∑ –ù–∏–∂–Ω–µ–≥–æ –ù–æ–≤–≥–æ—Ä–æ–¥–∞, —Ä–∞–±–æ—Ç–∞—é –≤ –ú–æ—Å–∫–≤–µ</li>
            <li class="next">üåê <a href="https://neuron.digital/">Neuron.Digital</a></li>
            <li class="next">üë¥ –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä—É—é —Å 2002 –≥–æ–¥–∞</li>
        </ol>
    </section>

    <section class="slide">
        <h2 class="shout">–ó–∞—á–µ–º?</h2>
    </section>

    <section class="slide">
        <h2 class="shout">–ü–æ–¥–Ω–∏–º–∞–µ–º backend</h2>
    </section>

    <section class="slide clear" style="background-color: #ea413c">
        <img class="cover h" src="pictures/iamdone.png" alt="" style="height: 100%;">
    </section>

    <section class="slide">
        <h2>üò´ –ë–µ–∑ Docker</h2>

        <pre>
            <code class="next">$ sudo apt update</code>
            <code class="next">$ sudo apt install mysql-server</code>
            <code class="next">...</code>
            <code class="next">$ \curl -sSL https://get.rvm.io | bash</code>
            <code class="next">...</code>
            <code class="next">$ rails s</code>
        </pre>
    </section>

    <section class="slide">
        <h2>üëç –° Docker</h2>

        <pre>
            <code class="next">$ docker-compose up api</code>
            <code class="next">...</code>
            <code class="next">Listening localhost:8080</code>
        </pre>
    </section>

    <section class="slide clear">
        <img class="cover h" src="pictures/Geek-T-Shirt.jpg_q50.webp" alt="">
    </section>

    <section class="slide clear">
        <asciinema-player
            preload
            font-size="big"
            src="asciinema/cashbox-api.cast"
            cols="90"
            rows="14"
        ></asciinema-player>
    </section>

    <section class="slide">
        <h2 class="shout">–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º<br>–ë–î</h2>
    </section>

    <section class="slide">
        <h2>üò´ –ë–µ–∑ Docker</h2>

        <pre>
            <code class="next">$ sudo apt update</code>
            <code class="next">$ sudo apt install mysql-server</code>
            <code class="next">$ sudo mysql_secure_installation</code>
            <code class="next">$ sudo mysql</code>
            <code class="next">...</code>
        </pre>
    </section>

    <section class="slide">
        <h2>üëç –° Docker</h2>

        <pre>
            <code class="next">$ docker run </code>
            <code class="next">  --name some-mysql</code>
            <code class="next">  --env MYSQL_ROOT_PASSWORD=my-secret-pw</code>
            <code class="next">  --detach</code>
            <code class="next">  mysql:8</code>
            <code class="next"> </code>
            <code class="next">86f3fabdfb64e70e09ffe9d0b7dfce7827e40...</code>
        </pre>
    </section>

    <section class="slide">
        <h2 class="shout">–ó–∞–ø—É—Å–∫–∞–µ–º Lighthouse</h2>
    </section>

    <section class="slide">
        <h2>üò´ –ë–µ–∑ Docker</h2>

        <pre>
            <code class="next">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Google Chrome for Desktop.</code>
            <code class="next">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é LTS –≤–µ—Ä—Å–∏—é Node.</code>
            <code class="next">$ npm install -g lighthouse</code>
            <code class="next">$ lighthouse http://frontendconf.ru</code>
        </pre>
    </section>

    <section class="slide">
        <h2>üëç –° Docker</h2>

        <pre>
            <code class="next">$ docker run </code>
            <code class="next">  --rm</code>
            <code class="next">  --name lighthouse</code>
            <code class="next">  -it</code>
            <code class="next">  --volume ~:/home/chrome/reports</code>
            <code class="next">  --cap-add=SYS_ADMIN</code>
            <code class="next">  femtopixel/google-lighthouse http://frontendconf.ru</code>
        </pre>
    </section>

    <section class="slide clear">
        <asciinema-player
            preload
            font-size="big"
            src="asciinema/lighthouse.cast"
            cols="90"
            rows="14"
        ></asciinema-player>
    </section>

    <section class="slide clear">
        <img class="cover h" src="pictures/what-are-you.jpg" alt="">
    </section>

    <section class="slide">
        <img class="cover h" src="pictures/doka.jpg" alt="" style="height: 80%;">
    </section>

    <section class="slide clear">
        <img class="cover h" src="pictures/container-on-machine.jpg" alt="">
    </section>

    <section class="slide">
        <h2 class="shout" style="font-size: 3.6em;">
            –ë–µ–∑–æ–ø–∞—Å–Ω–æ —Å–æ–±–∏—Ä–∞–π—Ç–µ, –¥–µ–ª–∏—Ç–µ—Å—å –∏ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –ª—é–±–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–¥–µ-—É–≥–æ–¥–Ω–æ
        </h2>
    </section>

    <section class="slide clear" style="background-color: #254356;">
        <img class="cover" src="pictures/VM@2x.png" alt="">
    </section>

    <section class="slide clear" style="background-color: #254356;">
        <img class="cover" src="pictures/Container@2x.png" alt="">
    </section>

    <section class="slide">
        <h2 class="shout">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker</h2>
    </section>

    <section class="slide clear" style="background-color: #061f2f;">
        <img class="cover w" src="pictures/requirements.png" alt="">
    </section>

    <section class="slide clear">
        <img class="cover w" src="pictures/docker-app-drag.png" alt="">
    </section>

    <section class="slide">
        <h2>‚ôª –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker —á–µ—Ä–µ–∑ Homebrew</h2>

        <pre>
            <code>$ brew cask install <mark>docker</mark></code>
        </pre>
    </section>

    <section class="slide">
        <h2>–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç –≤ Docker Desktop</h2>

        <ul>
            <li class="next">Docker Engine</li>
            <li class="next">Docker CLI client</li>
            <li class="next">Docker Compose</li>
            <li class="next">Docker Machine</li>
            <li class="next">Kitematic</li>
        </ul>
    </section>

    <section class="slide clear">
        <img class="cover" src="pictures/kitematic.png" alt="">
    </section>

    <section class="slide clear" style="background-color: #50c6c8;">
        <img class="cover h" src="pictures/beginner.jpg" alt="">
    </section>

    <section class="slide">
        <h2 class="shout">Docker - —ç—Ç–æ –¥–ª—è<br>–∞–¥–º–∏–Ω–æ–≤</h2>
    </section>

    <section class="slide">
        <h2>–ß—Ç–æ-—Ç–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤</h2>

        <ul style="font-size: 1.3em;">
            <li class="next">DockerHub</li>
            <li class="next">Image</li>
            <li class="next">Dockerfile</li>
            <li class="next">Network</li>
            <li class="next">Volume</li>
        </ul>
    </section>

    <section class="slide">
        <h2 class="shout">Docker –∫–∞–∫ NPM,<br>–Ω–æ –¥–ª—è Ops</h2>
    </section>

    <section class="slide">
        <h2>–ó–Ω–∞–∫–æ–º—ã–µ –ø–æ–Ω—è—Ç–∏—è</h2>

        <ul style="font-size: 1.3em;">
            <li class="next">DockerHub <b class="next">üîÄ NPM Registry</b></li>
            <li class="next">Image <b class="next">üîÄ Package</b></li>
            <li class="next">Dockerfile <b class="next">üîÄ package.json</b></li>
            <li class="next">Network <b class="next">üîÄ npm link</b></li>
            <li class="next">Volume <b class="next">üîÄ node_modules</b></li>
        </ul>
    </section>

    <section class="slide">
        <h2>–ó–Ω–∞–∫–æ–º—ã–µ –ø–æ–Ω—è—Ç–∏—è</h2>

        <ul style="font-size: 1.3em;">
            <li class="next">–ü—Ä–æ–µ–∫—Ç –Ω–∞—á–∞—Ç –∫–∞–∫ –ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞</li>
            <li class="next">–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ–≥–æ –ø–æ–¥—Ä—è–¥</li>
            <li class="next">–ï—Å—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã, –ø—Ä–∏–∑–≤–∞–Ω–Ω—ã–µ –∑–∞–º–µ–Ω–∏—Ç—å</li>
        </ul>
    </section>

    <section class="slide">
        <h2 class="shout">–ù–µ–º–Ω–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–æ–≤</h2>
    </section>

    <section class="slide">
        <h2 class="shout">–í—ã–±–∏—Ä–∞–µ–º<br>—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é</h2>
    </section>

    <section class="slide clear">
        <img class="cover w" src="pictures/frameworks.png" alt="">
    </section>

    <section class="slide">
        <img class="cover w" src="pictures/dockerhub-node.png" alt="" style="box-shadow: 5px 5px 20px 8px #b9b9b9;; width: 90%;">
    </section>

    <section class="slide">
        <h2>Dockerfile (1)</h2>

        <pre>
            <code>FROM    node:10-alpine as builder</code>
            <code class="next">WORKDIR /app</code>
            <code class="next">COPY    package*.json ./</code>
            <code class="next">RUN     npm ci</code>
            <code class="next">COPY    vue.config.js babel.config.js ./</code>
            <code class="next">COPY    src src</code>
            <code class="next"><mark>RUN     npm run build</mark></code>
        </pre>
    </section>

    <section class="slide">
        <img class="cover w" src="pictures/dockerhub-nginx.png" alt="" style="box-shadow: 5px 5px 20px 8px #b9b9b9;; width: 90%;">
    </section>

    <section class="slide">
        <h2>Dockerfile (2)</h2>

        <pre>
            <code>FROM   nginx:1.13-alpine</code>
            <code class="next">COPY   nginx /etc/nginx/conf.d</code>
            <code class="next">COPY   --from=builder /app/dist/ /usr/share/nginx/html/</code>
            <code class="next"><mark>EXPOSE 5000</mark></code>
        </pre>
    </section>

    <section class="slide">
        <h2>–ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä</h2>

        <pre>
            <code>docker build <mark>-t my-app</mark> .</code>
            <code class="next">docker run -p 5000:5000 <mark>-t my-app</mark></code>
        </pre>
    </section>

    <section class="slide clear">
        <img class="cover h" style="height: 90%;" src="pictures/backend-frameworks.png" alt="">
    </section>

    <section class="slide">
        <img class="cover w" src="pictures/dockerhub-node.png" alt="" style="box-shadow: 5px 5px 20px 8px #b9b9b9;; width: 90%;">
    </section>

    <section class="slide">
        <h2>Dockerfile –¥–ª—è Node.js</h2>

        <pre>
            <code>FROM node:10-alpine</code>
            <code class="next">WORKDIR /app</code>
            <code class="next">COPY package*.json ./</code>
            <code class="next">RUN npm ci</code>
            <code class="next">COPY . .</code>
            <code class="next"><mark>EXPOSE 5000</mark></code>
            <code class="next">CMD ["node", "server.js"]</code>
        </pre>
    </section>

    <section class="slide">
        <img class="cover w" src="pictures/dockerhub-python.png" alt="" style="box-shadow: 5px 5px 20px 8px #b9b9b9;; width: 90%;">
    </section>

    <section class="slide">
        <h2>Dockerfile –¥–ª—è Python</h2>

        <pre>
            <code>FROM python:3-alpine</code>
            <code class="next">WORKDIR /usr/src/app</code>
            <code class="next">COPY requirements.txt ./</code>
            <code class="next">RUN pip install --no-cache-dir -r requirements.txt</code>
            <code class="next">COPY . .</code>
            <code class="next"><mark>EXPOSE 5000</mark></code>
            <code class="next">CMD ["python", "./your-daemon-or-script.py"]</code>
        </pre>
    </section>

    <section class="slide">
        <h2 class="shout">–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è</h2>
    </section>

    <section class="slide">
        <h2 class="shout">–ù–∞–≥—Ä—É–∑–∫–∞</h2>
    </section>

    <section class="slide">
        <h2>üëç –° Docker</h2>

        <pre>
            <code>$ docker service scale frontend=50</code>
            <code> </code>
            <code>frontend scaled to 50</code>
        </pre>
    </section>

    <section class="slide">
        <h2 class="shout">–†–µ—à–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤</h2>
    </section>

    <section class="slide">
        <h2 class="shout">–ó–∞–∫–æ–Ω –ö–æ–Ω–≤–µ—è</h2>
    </section>

    <section class="slide">
        <h2 class="shout">–ö–æ–º–ø–æ–Ω—É–µ–º–æ—Å—Ç—å</h2>
    </section>

    <section class="slide">
        <h2>üëç –° Docker</h2>

        <pre style="font-size: 0.65em;">
            <code>services:</code>
            <code>  <mark>cashbox-api</mark>:</code>
            <code>    build: ./api</code>
            <code>  <mark>cashbox-admin-front</mark>:</code>
            <code>    build: ./admin-front</code>
            <code>  <mark>nginx</mark>:</code>
            <code>    image: nginx:1-alpine</code>
            <code>    volumes:</code>
            <code>     - ./data/nginx:/etc/nginx/conf.d</code>
            <code>    ports:</code>
            <code>    - 80:80</code>
        </pre>
    </section>

    <section class="slide">
        <h2 class="shout">Wordpress –∑–∞&nbsp;5&nbsp;–º–∏–Ω—É—Ç</h2>
    </section>

    <section class="slide">
        <img class="cover w" src="pictures/dockerhub-wordpress.png" alt="" style="box-shadow: 5px 5px 20px 8px #b9b9b9;; width: 90%;">
    </section>

    <section class="slide">
        <h2>docker-compose.yml (1)</h2>

        <pre>
            <code>version: '3.1'</code>
            <code>services:</code>
            <code>  <mark>db</mark>:</code>
            <code>    image: mysql:5.7</code>
            <code>  <mark>wordpress</mark>:</code>
            <code>    image: wordpress</code>
        </pre>
    </section>

    <section class="slide">
        <h2>docker-compose.yml (2)</h2>

        <pre style="font-size: 0.65em;">
            <code><mark>db:</mark></code>
            <code>  image: mysql:5.7</code>
            <code>  environment:</code>
            <code>    MYSQL_DATABASE: exampledb</code>
            <code>    MYSQL_USER: exampleuser</code>
            <code>    MYSQL_PASSWORD: examplepass</code>
            <code>    MYSQL_RANDOM_ROOT_PASSWORD: '1'</code>
            <code>  volumes:</code>
            <code>    - ./db:/var/lib/mysql</code>
        </pre>
    </section>

    <section class="slide">
        <h2>docker-compose.yml (3)</h2>

        <pre style="font-size: 0.65em;">
            <code><mark>wordpress:</mark></code>
            <code>  image: wordpress</code>
            <code>  ports:</code>
            <code>    - 8080:80</code>
            <code>  environment:</code>
            <code>    WORDPRESS_DB_HOST: db</code>
            <code>    WORDPRESS_DB_USER: exampleuser</code>
            <code>    WORDPRESS_DB_PASSWORD: examplepass</code>
            <code>    WORDPRESS_DB_NAME: exampledb</code>
            <code>  volumes:</code>
            <code>    - ./wp-content:/var/www/html/wp-content</code>
        </pre>
    </section>

    <section class="slide clear">
        <asciinema-player
            preload
            font-size="big"
            src="asciinema/272875.cast"
            cols="90"
            rows="14"
        ></asciinema-player>
    </section>

    <section class="slide clear">
        <img class="cover w" src="pictures/wordpress-1.png" alt="" style="width: 90%;">
    </section>

    <section class="slide clear" style="background-color: #ebedef;">
        <img class="cover h" src="pictures/wordpress-files.png" alt="" style="height: 90%;">
    </section>

    <!-- –∫–µ–π—Å—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–∫–µ—Ä–∞ –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ -->

    <section class="slide">
        <h2>üñº –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–∑—ã (1)</h2>

        <ul>
            <li class="next">wordpress</li>
            <li class="next">mysql</li>
            <li class="next">ubuntu</li>
            <li class="next">node</li>
            <li class="next">nginx</li>
        </ul>
    </section>

    <section class="slide">
        <h2>üñº –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–∑—ã (2)</h2>

        <ul>
            <li class="next">sentry</li>
            <li class="next">sonarqube</li>
            <li class="next">hello-world</li>
            <li class="next">docker</li>
            <li class="next">kitematic/minecraft</li>
            <li class="next">–≤–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –æ–±—Ä–∞–∑</li>
        </ul>
    </section>

    <section class="slide">
        <h2>Hello World</h2>

        <pre>
            <code>$ docker run ubuntu:14.04 /bin/echo 'Hello world'</code>
            <code> </code>
            <code>Hello world</code>
        </pre>
    </section>

    <section class="slide">
        <h2>Hello World (2)</h2>

        <pre>
            <code>$ <mark>docker run hello-world</mark></code>
            <code></code>
            <code>Unable to find image 'hello-world:latest' locally</code>
            <code>latest: Pulling from library/hello-world</code>
            <code>...</code>
            <code>Hello from Docker!</code>
            <code>This message shows that your installation appears...</code>
            <code>...</code>
        </pre>
    </section>

    <section class="slide">
        <h2 class="shout">–ü–∏—à–∏—Ç–µ –∫–æ–¥ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞</h2>
    </section>

    <!-- –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –Ω–∞—à —Å–ª—É—á–∞–π, –∫–∞–∫ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –¥–æ–∫–µ—Ä–æ–º -->

    <section class="slide">
        <h2>üëè –°–ø–∞—Å–∏–±–æ! –í–æ–ø—Ä–æ—Å—ã?</h2>

        <ul>
            <li>üë® –ê–ª–µ–∫—Å–µ–π –ê–≤–¥–µ–µ–≤</li>
            <li>üåê <a href="https://github.com/avdeev">https://github.com/avdeev</a></li>
            <li>üåê <a href="https://neuron.digital/">Neuron.Digital</a></li>
        </ul>

        <img src="pictures/iam.jpg" alt="—è" style="height: 250px; position: absolute; right: 80px; top: 141px;">
    </section>

    <footer class="badge">
        <a href="https://github.com/shower/shower">Powered by Shower</a>
    </footer>

    <div class="progress"></div>

    <script src="node_modules/shower-core/shower.min.js"></script>
    <!-- Copyright ¬© 3000 Yours Truly, Famous Inc. -->

    <script src="/asciinema-player.js"></script>
</body>
</html>
